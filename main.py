import webapp2
import os
import jinja2
import random
import threading



jinja_current_dir = jinja2.Environment(
    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)),
    extensions=['jinja2.ext.autoescape'],
    autoescape=True)

list = []
list.append("open")
list.append("seem")
list.append("together")
list.append("next")
list.append("white")
list.append("children")
list.append("begin")
list.append("got")
list.append("walk")
list.append("example")
list.append("ease")
list.append("paper")
list.append("group")
list.append("always")
list.append("music")
list.append("those")
list.append("both")
list.append("mark")
list.append("often")
list.append("letter")
list.append("until")
list.append("mile")
list.append("river")
list.append("car")
list.append("feet")
list.append("care")
list.append("second")
list.append("book")
list.append("carry")
list.append("took")
list.append("science")
list.append("eat")
list.append("room")
list.append("friend")
list.append("began")
list.append("idea")
list.append("fish")
list.append("mountain")
list.append("stop")
list.append("base")
list.append("once")
list.append("hear")
list.append("horse")
list.append("cut")
list.append("sure")
list.append("watch")
list.append("color")
list.append("face")
list.append("wood")
list.append("main")
list.append("enough")
list.append("plain")
list.append("girl")
list.append("usual")
list.append("young")
list.append("ready")
list.append("above")
list.append("ever")
list.append("red")
list.append("list")
list.append("though")
list.append("feel")
list.append("talk")
list.append("bird")
list.append("soon")
list.append("body")
list.append("dog")
list.append("family")
list.append("direct")
list.append("pose")
list.append("leave")
list.append("song")
list.append("measure")
list.append("door")
list.append("product")
list.append("black")
list.append("short")
list.append("numeral")
list.append("class")
list.append("wind")
list.append("question")
list.append("happen")
list.append("complete")
list.append("ship")
list.append("area")
list.append("half")
list.append("rock")
list.append("order")
list.append("fire")
list.append("south")
list.append("problem")
list.append("piece")
list.append("told")
list.append("knew")
list.append("pass")
list.append("since")
list.append("top")
list.append("whole")
list.append("king")
list.append("space")
list.append("heard")
list.append("best")
list.append("hour")
list.append("better")
list.append("true")
list.append("during")
list.append("hundred")
list.append("five")
list.append("remember")
list.append("step")
list.append("early")
list.append("hold")
list.append("west")
list.append("ground")
list.append("interest")
list.append("reach")
list.append("fast")
list.append("verb")
list.append("sing")
list.append("listen")
list.append("six")
list.append("table")
list.append("travel")
list.append("less")
list.append("morning")
list.append("ten")
list.append("simple")
list.append("several")
list.append("vowel")
list.append("toward")
list.append("war")
list.append("lay")
list.append("against")
list.append("pattern")
list.append("slow")
list.append("center")
list.append("love")
list.append("person")
list.append("money")
list.append("serve")
list.append("appear")
list.append("road")
list.append("map")
list.append("rain")
list.append("rule")
list.append("govern")
list.append("pull")
list.append("cold")
list.append("notice")
list.append("voice")
list.append("unit")
list.append("power")
list.append("town")
list.append("fine")
list.append("certain")
list.append("fly")
list.append("fall")
list.append("lead")
list.append("cry")
list.append("dark")
list.append("machine")
list.append("note")
list.append("wait")
list.append("plan")
list.append("figure")
list.append("star")
list.append("box")
list.append("noun")
list.append("field")
list.append("rest")
list.append("correct")
list.append("able")
list.append("pound")
list.append("done")
list.append("beauty")
list.append("drive")
list.append("stood")
list.append("contain")
list.append("front")
list.append("teach")
list.append("week")
list.append("final")
list.append("gave")
list.append("green")
list.append("oh")
list.append("quick")
list.append("develop")
list.append("ocean")
list.append("warm")
list.append("free")
list.append("minute")
list.append("strong")
list.append("special")
list.append("mind")
list.append("behind")
list.append("clear")
list.append("tail")
list.append("produce")
list.append("fact")
list.append("street")
list.append("inch")
list.append("multiply")
list.append("nothing")
list.append("course")
list.append("stay")
list.append("wheel")
list.append("full")
list.append("force")
list.append("blue")
list.append("object")
list.append("decide")
list.append("surface")
list.append("deep")
list.append("moon")
list.append("island")
list.append("foot")
list.append("system")
list.append("busy")
list.append("test")
list.append("record")
list.append("boat")
list.append("common")
list.append("gold")
list.append("possible")
list.append("plane")
list.append("stead")
list.append("dry")
list.append("wonder")
list.append("laugh")
list.append("thousand")
list.append("ago")
list.append("ran")
list.append("check")
list.append("game")
list.append("shape")
list.append("equate")
list.append("hot")
list.append("miss")
list.append("brought")
list.append("heat")
list.append("snow")
list.append("tire")
list.append("bring")
list.append("yes")
list.append("distant")
list.append("fill")
list.append("east")
list.append("paint")
list.append("language")
list.append("among")
list.append("decimal")
list.append("woman")
list.append("captain")
list.append("practice")
list.append("separate")
list.append("difficult")
list.append("doctor")
list.append("protect")
list.append("whose")
list.append("locate")
list.append("character")
list.append("insect")
list.append("caught")
list.append("period")
list.append("radio")
list.append("spoke")
list.append("atom")
list.append("history")
list.append("electric")
list.append("crop")
list.append("element")
list.append("student")
list.append("corner")
list.append("party")
list.append("supply")
list.append("bone")
list.append("rail")
list.append("provide")
list.append("agree")
list.append("thus")
list.append("won't")
list.append("danger")
list.append("fruit")
list.append("rich")
list.append("thick")
list.append("process")
list.append("guess")
list.append("necessary")
list.append("wing")
list.append("create")
list.append("neighbor")
list.append("wash")
list.append("bat")
list.append("rather")
list.append("crowd")
list.append("corn")
list.append("compare")
list.append("poem")
list.append("string")
list.append("bell")
list.append("depend")
list.append("meat")
list.append("rub")
list.append("tube")
list.append("famous")
list.append("dollar")
list.append("stream")
list.append("fear")
list.append("sight")
list.append("thin")
list.append("triangle")
list.append("planet")
list.append("hurry")
list.append("chief")
list.append("colony")
list.append("clock")
list.append("mine")
list.append("tie")
list.append("enter")
list.append("major")
list.append("fresh")
list.append("search")
list.append("send")
list.append("yellow")
list.append("gun")
list.append("allow")
list.append("print")
list.append("dead")
list.append("spot")
list.append("desert")
list.append("suit")
list.append("current")
list.append("lift")
list.append("rose")
list.append("continue")
list.append("block")
list.append("chart")
list.append("hat")
list.append("sell")
list.append("success")
list.append("company")
list.append("subtract")
list.append("event")
list.append("particular")
list.append("deal")
list.append("swim")
list.append("term")
list.append("opposite")
list.append("wife")
list.append("shoe")
list.append("shoulder")
list.append("spread")
list.append("arrange")
list.append("camp")
list.append("invent")
list.append("cotton")
list.append("born")
list.append("determine")
list.append("quart")
list.append("nine")
list.append("truck")
list.append("noise")
list.append("level")
list.append("chance")
list.append("gather")
list.append("shop")
list.append("stretch")
list.append("throw")
list.append("shine")
list.append("property")
list.append("column")
list.append("molecule")
list.append("select")
list.append("wrong")
list.append("gray")
list.append("repeat")
list.append("require")
list.append("broad")
list.append("prepare")
list.append("salt")
list.append("nose")
list.append("plural")
list.append("anger")
list.append("claim")
list.append("continent")
list.append("oxygen")
list.append("sugar")
list.append("death")
list.append("pretty")
list.append("skill")
list.append("women")
list.append("season")
list.append("solution")
list.append("magnet")
list.append("silver")
list.append("thank")
list.append("branch")
list.append("match")
list.append("suffix")
list.append("especially")
list.append("fig")
list.append("afraid")
list.append("huge")
list.append("sister")
list.append("steel")
list.append("discuss")
list.append("forward")
list.append("similar")
list.append("guide")
list.append("experience")
list.append("score")
list.append("apple")
list.append("bought")
list.append("led")
list.append("pitch")
list.append("coat")
list.append("mass")
list.append("card")
list.append("band")
list.append("rope")
list.append("slip")
list.append("win")
list.append("dream")
list.append("evening")
list.append("condition")
list.append("feed")
list.append("tool")
list.append("total")
list.append("basic")
list.append("smell")
list.append("valley")
list.append("nor")
list.append("double")
list.append("seat")
list.append("arrive")
list.append("master")
list.append("track")
list.append("parent")
list.append("shore")
list.append("division")
list.append("sheet")
list.append("substance")
list.append("favor")
list.append("connect")
list.append("post")
list.append("spend")
list.append("chord")
list.append("fat")
list.append("glad")
list.append("original")
list.append("share")
list.append("station")
list.append("dad")
list.append("bread")
list.append("charge")
list.append("proper")
list.append("bar")
list.append("offer")
list.append("segment")
list.append("slave")
list.append("duck")
list.append("instant")
list.append("market")
list.append("degree")
list.append("populate")
list.append("chick")
list.append("dear")
list.append("enemy")
list.append("reply")
list.append("drink")
list.append("occur")
list.append("support")
list.append("speech")
list.append("the")
list.append("of")
list.append("to")
list.append("and")
list.append("a")
list.append("in")
list.append("is")
list.append("it")
list.append("you")
list.append("that")
list.append("he")
list.append("was")
list.append("for")
list.append("on")
list.append("are")
list.append("with")
list.append("as")
list.append("I")
list.append("his")
list.append("they")
list.append("be")
list.append("at")
list.append("one")
list.append("have")
list.append("this")
list.append("from")
list.append("or")
list.append("by")
list.append("had")
list.append("hot")
list.append("word")
list.append("what")
list.append("but")
list.append("some")
list.append("we")
list.append("can")
list.append("out")
list.append("other")
list.append("were")
list.append("all")
list.append("there")
list.append("when")
list.append("up")
list.append("use")
list.append("your")
list.append("how")
list.append("said")
list.append("an")
list.append("each")
list.append("she")
list.append("which")
list.append("do")
list.append("their")
list.append("time")
list.append("if")
list.append("will")
list.append("way")
list.append("about")
list.append("many")
list.append("then")
list.append("them")
list.append("write")
list.append("would")
list.append("like")
list.append("so")
list.append("these")
list.append("her")
list.append("long")
list.append("make")
list.append("thing")
list.append("see")
list.append("him")
list.append("two")
list.append("has")
list.append("look")
list.append("more")
list.append("day")
list.append("could")
list.append("go")
list.append("come")
list.append("did")
list.append("number")
list.append("sound")
list.append("no")
list.append("most")
list.append("people")
list.append("my")
list.append("over")
list.append("know")
list.append("water")
list.append("than")
list.append("call")
list.append("first")
list.append("who")
list.append("may")
list.append("down")
list.append("side")
list.append("been")
list.append("now")
list.append("find")
list.append("any")
list.append("new")
list.append("work")
list.append("part")
list.append("take")
list.append("get")
list.append("place")
list.append("made")
list.append("live")
list.append("where")
list.append("after")
list.append("back")
list.append("little")
list.append("only")
list.append("round")
list.append("man")
list.append("year")
list.append("came")
list.append("show")
list.append("every")
list.append("good")
list.append("me")
list.append("give")
list.append("our")
list.append("under")
list.append("name")
list.append("very")
list.append("through")
list.append("just")
list.append("form")
list.append("sentence")
list.append("great")
list.append("think")
list.append("say")
list.append("help")
list.append("low")
list.append("line")
list.append("differ")
list.append("turn")
list.append("cause")
list.append("much")
list.append("mean")
list.append("before")
list.append("move")
list.append("right")
list.append("boy")
list.append("old")
list.append("too")
list.append("same")
list.append("tell")
list.append("does")
list.append("set")
list.append("three")
list.append("want")
list.append("air")
list.append("well")
list.append("also")
list.append("play")
list.append("small")
list.append("end")
list.append("put")
list.append("home")
list.append("read")
list.append("hand")
list.append("port")
list.append("large")
list.append("spell")
list.append("add")
list.append("even")
list.append("land")
list.append("here")
list.append("must")
list.append("big")
list.append("high")
list.append("such")
list.append("follow")
list.append("act")
list.append("why")
list.append("ask")
list.append("men")
list.append("change")
list.append("went")
list.append("light")
list.append("kind")
list.append("off")
list.append("need")
list.append("house")
list.append("picture")
list.append("try")
list.append("us")
list.append("again")
list.append("animal")
list.append("point")
list.append("mother")
list.append("world")
list.append("near")
list.append("build")
list.append("self")
list.append("earth")
list.append("father")
list.append("head")
list.append("stand")
list.append("own")
list.append("page")
list.append("should")
list.append("country")
list.append("found")
list.append("answer")
list.append("school")
list.append("grow")
list.append("study")
list.append("still")
list.append("learn")
list.append("plant")
list.append("cover")
list.append("food")
list.append("sun")
list.append("four")
list.append("between")
list.append("state")
list.append("keep")
list.append("eye")
list.append("never")
list.append("last")
list.append("let")
list.append("thought")
list.append("city")
list.append("tree")
list.append("cross")
list.append("farm")
list.append("hard")
list.append("start")
list.append("might")
list.append("story")
list.append("saw")
list.append("far")
list.append("sea")
list.append("draw")
list.append("left")
list.append("late")
list.append("run")
list.append("don't")
list.append("while")
list.append("press")
list.append("close")
list.append("night")
list.append("real")
list.append("life")
list.append("few")
list.append("north")
list.append("nature")
list.append("range")
list.append("steam")
list.append("motion")
list.append("path")
list.append("liquid")
list.append("log")
list.append("meant")
list.append("quotient")
list.append("teeth")
list.append("shell")
list.append("neck")
list.append("grand")
list.append("ball")
list.append("yet")
list.append("wave")
list.append("drop")
list.append("heart")
list.append("am")
list.append("present")
list.append("heavy")
list.append("dance")
list.append("engine")
list.append("position")
list.append("arm")
list.append("wide")
list.append("sail")
list.append("material")
list.append("size")
list.append("vary")
list.append("settle")
list.append("speak")
list.append("weight")
list.append("general")
list.append("ice")
list.append("matter")
list.append("circle")
list.append("pair")
list.append("include")
list.append("divide")
list.append("syllable")
list.append("felt")
list.append("perhaps")
list.append("pick")
list.append("sudden")
list.append("count")
list.append("square")
list.append("reason")
list.append("length")
list.append("represent")
list.append("art")
list.append("subject")
list.append("region")
list.append("energy")
list.append("hunt")
list.append("probable")
list.append("bed")
list.append("brother")
list.append("egg")
list.append("ride")
list.append("cell")
list.append("believe")
list.append("fraction")
list.append("forest")
list.append("sit")
list.append("race")
list.append("window")
list.append("store")
list.append("summer")
list.append("train")
list.append("sleep")
list.append("prove")
list.append("lone")
list.append("leg")
list.append("exercise")
list.append("wall")
list.append("catch")
list.append("mount")
list.append("wish")
list.append("sky")
list.append("board")
list.append("joy")
list.append("winter")
list.append("sat")
list.append("written")
list.append("wild")
list.append("instrument")
list.append("kept")
list.append("glass")
list.append("grass")
list.append("cow")
list.append("job")
list.append("edge")
list.append("sign")
list.append("visit")
list.append("past")
list.append("soft")
list.append("fun")
list.append("bright")
list.append("gas")
list.append("weather")
list.append("month")
list.append("million")
list.append("bear")
list.append("finish")
list.append("happy")
list.append("hope")
list.append("flower")
list.append("clothe")
list.append("strange")
list.append("gone")
list.append("jump")
list.append("baby")
list.append("eight")
list.append("village")
list.append("meet")
list.append("root")
list.append("buy")
list.append("raise")
list.append("solve")
list.append("metal")
list.append("whether")
list.append("push")
list.append("seven")
list.append("paragraph")
list.append("third")
list.append("shall")
list.append("held")
list.append("hair")
list.append("describe")
list.append("cook")
list.append("floor")
list.append("either")
list.append("result")
list.append("burn")
list.append("hill")
list.append("safe")
list.append("cat")
list.append("century")
list.append("consider")
list.append("type")
list.append("law")
list.append("bit")
list.append("coast")
list.append("copy")
list.append("phrase")
list.append("silent")
list.append("tall")
list.append("sand")
list.append("soil")
list.append("roll")
list.append("temperature")
list.append("finger")
list.append("industry")
list.append("value")
list.append("fight")
list.append("lie")
list.append("beat")
list.append("excite")
list.append("natural")
list.append("view")
list.append("sense")
list.append("ear")
list.append("else")
list.append("quite")
list.append("broke")
list.append("case")
list.append("middle")
list.append("kill")
list.append("son")
list.append("lake")
list.append("moment")
list.append("scale")
list.append("loud")
list.append("spring")
list.append("observe")
list.append("child")
list.append("straight")
list.append("consonant")
list.append("nation")
list.append("dictionary")
list.append("milk")
list.append("speed")
list.append("method")
list.append("organ")
list.append("pay")
list.append("age")
list.append("section")
list.append("dress")
list.append("cloud")
list.append("surprise")
list.append("quiet")
list.append("stone")
list.append("tiny")
list.append("climb")
list.append("cool")
list.append("design")
list.append("poor")
list.append("lot")
list.append("experiment")
list.append("bottom")
list.append("key")
list.append("iron")
list.append("single")
list.append("stick")
list.append("flat")
list.append("twenty")
list.append("skin")
list.append("smile")
list.append("crease")
list.append("hole")
list.append("trade")
list.append("melody")
list.append("trip")
list.append("office")
list.append("receive")
list.append("row")
list.append("mouth")
list.append("exact")
list.append("symbol")
list.append("die")
list.append("least")
list.append("trouble")
list.append("shout")
list.append("except")
list.append("wrote")
list.append("seed")
list.append("tone")
list.append("join")
list.append("suggest")
list.append("clean")
list.append("break")
list.append("lady")
list.append("yard")
list.append("rise")
list.append("bad")
list.append("blow")
list.append("oil")
list.append("blood")
list.append("touch")
list.append("grew")
list.append("cent")
list.append("mix")
list.append("team")
list.append("wire")
list.append("cost")
list.append("lost")
list.append("brown")
list.append("wear")
list.append("garden")
list.append("equal")
list.append("sent")
list.append("choose")
list.append("fell")
list.append("fit")
list.append("flow")
list.append("fair")
list.append("bank")
list.append("collect")
list.append("save")
list.append("control")
list.append("decimal")

f = open("words.txt","r")
arr = f.readlines()



points = 0
randWord = ""
time = True

def gameOver():
    global time
    time = False

class welcome(webapp2.RequestHandler):
    def get(self):
        start_template = jinja_current_dir.get_template("/templates/Welcome.html")
        self.response.write(start_template.render())

    def post(self):
        global points
        points = 0
        global randWord
        randWord = list[random.randint(0,len(list)-1)]
        global time
        time = True
        dict = {"randWord": randWord,
                "points": 0,
                "time": time}

        timer = threading.Timer(60, gameOver)
        timer.start()

        end_template = jinja_current_dir.get_template("/templates/Game.html")
        self.response.write(end_template.render(dict))



class game(webapp2.RequestHandler):
    userWord = ""

    def post(self):
        global time
        if time:
            self.userWord = self.request.get("userWord")
            global randWord
            if randWord == self.userWord:
                global points
                points += len(randWord)
            randWord = list[random.randint(0,len(list)-1)]
            dict = {"randWord": randWord,
                    "points": points,
                    "time": time}
            end_template = jinja_current_dir.get_template("/templates/Game.html")
            self.response.write(end_template.render(dict))
        else:
            dict = {"points": points,
                    "score": points/60.0}
            end_template = jinja_current_dir.get_template("/templates/Scores.html")
            self.response.write(end_template.render(dict))


class score(webapp2.RequestHandler):
    def get(self):
        global time
        dict = {"points": points,
                "score": points/60.0,
                "time": time}
        end_template = jinja_current_dir.get_template("/templates/Scores.html")
        self.response.write(end_template.render(dict))

app = webapp2.WSGIApplication([
    ('/', welcome),
    ('/game', game),
    ('/score', score)
], debug=True)
